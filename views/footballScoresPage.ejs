<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Football Scores</title>
    <link rel="icon" type="image/x-icon" href="/images/favicon.png">
    <link rel="stylesheet" href="/css/scores.css">
</head>
<body>
    <div class="nav">
        <a class="active" href="/home">Home</a>
        <a href="/football/football.html">Football</a>
        <a href="/basketball/basketball.html">Basketball</a>
        <a href="/baseball/baseball.html">Baseball</a>
        <a href="/messaging/messages.html">Messages</a>
        <a href="/profile.html">Profile</a>
    </div>
    <div class="footballNav">
        <a class="football" href="/football/aboutFootball.html">About Football</a>
        <a href="/football/scores">Check Scores</a>
        <a href="/football/fbLiveChat/liveChatEntry.html">Live Chat</a>
    </div>
    <div id="Wrapper">
        <div id="Week">
            <p>Sort By Week:</p>
            <form id="weekChoice">
                <label for="week"></label>
                <select name="weeks" id="week">
                    <option value="Week 1">Week 1</option>
                    <option value="Week 2">Week 2</option>
                    <option value="Week 3">Week 3</option>
                    <option value="Week 4">Week 4</option>
                    <option value="Week 5">Week 5</option>
                    <option value="Week 6">Week 6</option>
                    <option value="Week 7">Week 7</option>
                    <option value="Week 8">Week 8</option>
                    <option value="Week 9">Week 9</option>
                    <option value="Week 10">Week 10</option>
                    <option value="Week 11">Week 11</option>
                    <option value="Week 12">Week 12</option>
                    <option value="Week 13">Week 13</option>
                    <option value="Week 14">Week 14</option>
                    <option value="Week 15">Week 15</option>
                    <option value="Week 16">Week 16</option>
                    <option value="Week 17">Week 17</option>
                </select>
                <input type="submit" value="Submit" />
            </form>
            <script>
                const form = document.getElementById("weekChoice");

                form.addEventListener("submit", (event) => {
                    const slct = document.getElementById("week");
                    const partURL = slct.options[slct.selectedIndex].value;
                    console.log(partURL);
                    const src = "/football/scores/" + partURL;

                    form.action = src;
                });
            </script>
        </div>
        <div id="Team">
            <p>Sort By Team:</p>
            <form id="teamChoice">
                <label for="team"></label>
                <select name="team" id="team">
                    <option value="25">San Francisco 49ers</option>
                    <option value="3">Chicago Bears</option>
                    <option value="4">Cincinnati Bengals</option>
                    <option value="2">Buffalo Bills</option>
                    <option value="7">Denver Broncos</option>
                    <option value="5">Cleveland Browns</option>
                    <option value="27">Tampa Bay Bucaneers</option>
                    <option value="22">Arizona Cardinals</option>
                    <option value="11">Indianapolis Colts</option>
                    <option value="28">Washington Commanders</option>
                    <option value="6">Dallas Cowboys</option>
                    <option value="15">Miami Dolphins</option>
                    <option value="21">Philadelphia Eagles</option>
                    <option value="1">Atlanta Falcons</option>
                    <option value="19">New York Giants</option>
                    <option value="30">Jacksonville Jaguars</option>
                    <option value="20">New York Jets</option>
                    <option value="8">Detroit Lions</option>
                    <option value="9">Green Bay Packers</option>
                    <option value="29">Carolina Panthers</option>
                    <option value="17">New England Patriots</option>
                    <option value="13">Las Vegas Raiders</option>
                    <option value="14">L.A. Rams</option>
                    <option value="33">Baltimore Ravens</option>
                    <option value="18">New Orleans Saints</option>
                    <option value="26">Seattle Seahawks</option>
                    <option value="23">Pittsburgh Steelers</option>
                    <option value="34">Houston Texans</option>
                    <option value="10">Tennessee Titans</option>
                    <option value="16">Minnesota Vikings</option>
                </select>
                <input type="submit" value="Submit" />
            </form>
            <script>
                const form2 = document.getElementById("teamChoice");

                form2.addEventListener("submit", (event) => {
                    const slct = document.getElementById("team");
                    const partURL = slct.options[slct.selectedIndex].value;
                    console.log(partURL);
                    const src = "/football/scores/team/" + partURL;

                    form2.action = src;
                });
            </script>
        </div>
    </div>
    <ul class="scoresContainer">
        <% for ( const team of teams ) { %>
            <% if (team.teamid > team.opponentid){ %>
                <% if (team.opponentid != 12 && team.opponentid != 24){ %>
                    <a href="/team/<%= team.name %>" class="team">
                        <li>
                            <div class="info">
                                <p>
                                    <img src="<%= team.logo %>" alt="<%= team.name %> logo"
                                    width="25"
                                    height="25" />
                                    <%= team.teamname %>
                                    (
                                    <%= team.record %>
                                    )
                                    <% if (team.visitStatus === "home") { %>
                                        - At Home
                                    <% } else { %>
                                            - Away
                                    <% } %>
                                    <%= team.score %>
                                </p>
                                <p>
                                    vs. 
                                    <% if (team.opponentid != 12 && team.opponentid != 24){ %>
                                        <% for (let i = 0; i < teams.length; i++){ %>
                                            <% if (team.opponentid == teams[i].teamid){ %>
                                                <img src="<%= teams[i].logo %>" alt="<%= team.name %> logo"
                                                width="25"
                                                height="25" />
                                                <%= teams[i].teamname %>
                                                (
                                                <%= teams[i].record %>
                                                )
                                                <% if (teams[i].visitStatus === "home") { %>
                                                    - At Home
                                                <% } else { %>
                                                        - Away
                                                <% } %>
                                                <%= teams[i].score %>
                                            <% } %>
                                        <% } %>
                                    <% } %>
                                </p>
                            </div>
                        </li>
                    </a>
                <% } %>
            <% } %>
        <% } %>
    </ul>
</body>
</html>